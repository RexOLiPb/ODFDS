<!DOCTYPE html>

<html>
<head>
  <title>Get Current Position</title>
  <script type="text/javascript">
    var watchId;
    function getPosition()
    {
        if(navigator.geolocation)
        {
          navigator.geolocation.getCurrentPosition(successPosition);
        }
        else
          document.getElemetById("result").innerHTML = "Your browser does not support Geolocation"    
                    
    }
    function successPosition(position)
    {
        var lat = position.coords.latitude;
        var long = position.coords.longitude;

        document.getElementById("result").innerHTML = "Latitude: " + lat + "<br />Logitude: " + long
        
    }
    function watchPosition()
    {
        if(navigator.geolocation)
        {
          watchId = navigator.geolocation.watchPosition(successPosition, failurePosition,
                                                        {enableHighAccuracy: false,
                                                        timeout: 5000,
                                                        maximumAge: 5000,
                                                        });
        }
        else
          document.getElemetById("result").innerHTML = "Your browser does not support Geolocation"              
    }
    function failurePosition(error)
    {
        alert("Error Code: " +error.code + " Error Message: " + error.message);
    }
    function stopWatching()
    {
        clearWatch(watchId);
    }
  </script>
</head>

<body>
  <div id="result"></div>
<button id="btnPosition" onclick="getPosition();">Get Current Position</button>
<button id="btnStartTracking" onclick="watchPosition();">Start Tracking Location</button>
<button id="btnStopTracking" onclick="stopWatching();">Stop Tracking Position</button>

</body>
</html>
